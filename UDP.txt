UDP Server Example:
import java.net.*;
public class UDPServer {
public static void main(String[] args) throws Exception {
DatagramSocket socket = new DatagramSocket(9876);
byte[] buffer = new byte[1024];
System.out.println("UDP Server listening on port 9876...");
while (true) {
DatagramPacket packet = new DatagramPacket(buffer, buffer.length);
socket.receive(packet);
String received = new String(packet.getData(), 0, packet.getLength());
System.out.println("Received: " + received);
if ("bye".equalsIgnoreCase(received)) {
System.out.println("UDP Server exiting.");
break;
}
String response = "Echo: " + received;
byte[] sendData = response.getBytes();
DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length,
packet.getAddress(), packet.getPort());
socket.send(sendPacket);
}
socket.close();
}
}






UDP Client Example:
import java.net.*;
import java.util.Scanner;
public class UDPClient {
public static void main(String[] args) throws Exception {
DatagramSocket socket = new DatagramSocket();
InetAddress address = InetAddress.getByName("localhost");
Scanner scanner = new Scanner(System.in);
System.out.println("Enter messages (type 'bye' to quit):");
while (true) {
String message = scanner.nextLine();
byte[] sendData = message.getBytes();
DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length,
address, 9876);
socket.send(sendPacket);
if ("bye".equalsIgnoreCase(message)) {
break;
}
byte[] receiveBuffer = new byte[1024];
DatagramPacket receivePacket = new DatagramPacket(receiveBuffer,
receiveBuffer.length);
socket.receive(receivePacket);
String response = new String(receivePacket.getData(), 0,
receivePacket.getLength());
System.out.println("Server: " + response);
}
socket.close();
scanner.close();
}
}